<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{% block title %}PowerCycle{% endblock %}</title>

    <!-- Bootstrap CSS -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
    >

    <!-- App Custom CSS -->
    <link
        rel="stylesheet"
        href="{{ url_for('static', filename='css/style.css') }}"
    >

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</head>

<body>

<!-- STICKY HEADER + NAV -->
<div class="sticky-top app-sticky">

    <!-- HEADER -->
    <header class="app-header py-3">
        <div class="container d-flex justify-content-between align-items-center">
            <h1 class="app-title mb-0">PowerCycle</h1>

            {% if session.get('first_name') %}
                <span class="user-info">
                    user: <strong>{{ session.first_name }}</strong>
                </span>
            {% endif %}
        </div>
    </header>

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg app-navbar shadow-sm">
        <div class="container">

            <a class="navbar-brand app-nav-brand" href="{{ url_for('home') }}">
                Home
            </a>

            
            <div class="collapse navbar-collapse" id="mainNavbar">
                <ul class="navbar-nav ms-auto align-items-center">

                    {% if session.get('user_id') %}
                        <li class="nav-item">
                            <a class="nav-link app-nav-link" href="{{ url_for('my_orders') }}">Orders</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link app-nav-link" href="{{ url_for('buyer_dashboard') }}">Dashboard</a>
                        </li>

                        {% if session.get('user_type') == 'Seller' %}
                            <li class="nav-item">
                                <a class="nav-link app-nav-link" href="{{ url_for('my_listings') }}">My Listing</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link app-nav-link" href="{{ url_for('seller_dashboard') }}">Seller Dashboard</a>
                            </li>
                        {% else %}
                            <li class="nav-item">
                                <a class="nav-link app-nav-link" href="{{ url_for('become_seller') }}">Become a Seller</a>
                            </li>
                        {% endif %}

                        <li class="nav-item ms-2">
                            <a class="nav-link logout-link" href="{{ url_for('logout') }}">Logout</a>
                        </li>

                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link app-nav-link" href="{{ url_for('login') }}">Login</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link app-nav-link" href="{{ url_for('register') }}">Register</a>
                        </li>
                    {% endif %}

                </ul>
            </div>

        </div>
    </nav>

</div>

</nav>

<!-- PAGE CONTENT -->
<main class="container my-5">
    {% block content %}{% endblock %}
</main>

<!-- Bootstrap JS -->
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
></script>

</body>
</html>
